(function(a){a.fn.placeholderFix=function(b){var c=a.extend({wrapperCSS:{},inputCSS:{},labelCSS:{},spanCSS:{},force:!1,content:"",attr:"placeholder",nl:!0},b),d=document.createElement("input"),e=function(b){var d=b.width()-b.get(0).clientWidth,e=parseInt(b.css("padding-top"))+parseInt(b.css("border-top-width")),f=parseInt(b.css("padding-right"))+parseInt(b.css("border-right-width"))+d,g=parseInt(b.css("padding-bottom"))+parseInt(b.css("border-bottom-width")),h=parseInt(b.css("padding-left"))+parseInt(b.css("border-left-width")),i={},j={};return b.get(0).tagName=="INPUT"&&b.attr("type")=="text"?(i={"line-height":b.height()+"px"},j={"vertical-align":"middle"}):b.get(0).tagName!="TEXTAREA",{wrapper:a.extend({height:b.outerHeight()+"px",width:b.outerWidth()+"px",position:b.css("position")=="static"?"relative":b.css("position"),top:b.css("top"),left:b.css("left"),"float":b.css("float"),clear:b.css("clear"),padding:"0",margin:b.css("margin-top")+" "+b.css("margin-right")+" "+b.css("margin-bottom")+" "+b.css("margin-left"),display:b.css("display")=="inline"?"inline-block":b.css("display"),background:"none",border:"0"},c.wrapperCSS),label:a.extend({width:b.width()-d+"px",height:b.height()+"px","padding-top":e,"padding-right":f,"padding-bottom":g,"padding-left":h,position:"absolute",top:0,left:0,margin:0,"float":"none",clear:"none",background:"none",border:0,"z-index":10},i,c.labelCSS),input:a.extend({position:"absolute",top:0,left:0,margin:0,"z-index":1},c.wrapperCSS),span:a.extend({color:"#999","font-size":b.css("font-size"),"font-weight":b.css("font-weight"),"font-family":b.css("font-family"),"text-align":b.css("text-align"),margin:0,padding:0,width:"auto",height:"auto"},j,c.spanCSS)}};if(undefined==d.placeholder||c.force){var f=0;this.each(function(){f+=1;var b=a(this),d=b.attr("id")||"placeholder_fix_"+f+"_"+ +(new Date),g=c.content!==""?c.content:b.attr(c.attr)||"Placeholder";g=c.nl?g.replace(/\\n/g,"<br />"):g;var h=a('<label style="vertical-align:middle;" for="'+d+'"></label>'),j=a("<span>"+g+"</span>"),k,l;b.wrap('<div id="wrapper_for_'+d+'" class="placeholder_fix_wrapper"></div>'),k=a("div#wrapper_for_"+d),h.append(j),k.append(h),b.removeAttr(c.attr),b.attr("id",d),l=e(b),k.css(l.wrapper),b.css(l.input),h.css(l.label),j.css(l.span),""!==a(this).val()&&h.hide(),h.click(function(){a(this).hide()}),b.focus(function(){h.hide()}),b.blur(function(){""==a(this).val()&&h.show()})})}return this}})(jQuery)